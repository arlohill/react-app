{"ast":null,"code":"var _jsxFileName = \"/Users/arlosb/Documents/GitHub/new react app/my-app/src/components/AdminPanel/AdminPanel.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport CallObjectContext from '../../CallObjectContext';\nimport NameContext from '../../NameContext';\nimport { logDailyEvent } from '../../logUtils';\nimport { Fragment } from 'react';\n/**\n * Gets [isCameraMuted, isMicMuted, isSharingScreen].\n * This function is declared outside Tray() so it's not recreated every render\n * (which would require us to declare it as a useEffect dependency).\n */\n\nfunction getStreamStates(callObject) {\n  let isCameraMuted,\n      isMicMuted,\n      isSharingScreen = false;\n\n  if (callObject && callObject.participants() && callObject.participants().local) {\n    const localParticipant = callObject.participants().local;\n    isCameraMuted = !localParticipant.video;\n    isMicMuted = !localParticipant.audio;\n    isSharingScreen = localParticipant.screen;\n  }\n\n  return [isCameraMuted, isMicMuted, isSharingScreen];\n}\n/**\n * Props:\n * - onClickLeaveCall: () => ()\n * - disabled: boolean\n */\n\n\nexport default function AdminPanel(props) {\n  const callObject = useContext(CallObjectContext);\n  const myName = useContext(NameContext);\n  const [isCameraMuted, setCameraMuted] = useState(false);\n  const [isMicMuted, setMicMuted] = useState(false);\n  const [isSharingScreen, setSharingScreen] = useState(false);\n  const [displayChat, setChatDisplay] = useState(false);\n  const [highlightedChat, setChatHighlight] = useState(false);\n\n  function toggleCamera() {\n    callObject.setLocalVideo(isCameraMuted);\n  }\n\n  function toggleMic() {\n    callObject.setLocalAudio(isMicMuted);\n  }\n\n  function toggleSharingScreen() {\n    isSharingScreen ? callObject.stopScreenShare() : callObject.startScreenShare();\n  }\n\n  function leaveCall() {\n    props.onClickLeaveCall && props.onClickLeaveCall();\n  }\n\n  function toggleChat() {\n    setChatDisplay(!displayChat);\n\n    if (highlightedChat) {\n      setChatHighlight(!highlightedChat);\n    }\n  }\n\n  function handleNewChat() {\n    setChatHighlight(!highlightedChat);\n  }\n  /**\n   * Start listening for participant changes when callObject is set (i.e. when the component mounts).\n   * This event will capture any changes to your audio/video mute state.\n   */\n\n\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleNewParticipantsState(event) {\n      event && logDailyEvent(event);\n      const [isCameraMuted, isMicMuted, isSharingScreen] = getStreamStates(callObject);\n      setCameraMuted(isCameraMuted);\n      setMicMuted(isMicMuted);\n      setSharingScreen(isSharingScreen);\n    } // Use initial state\n\n\n    handleNewParticipantsState(); // Listen for changes in state\n\n    callObject.on('participant-updated', handleNewParticipantsState); // Stop listening for changes in state\n\n    return function cleanup() {\n      callObject.off('participant-updated', handleNewParticipantsState);\n    };\n  }, [callObject]);\n  /* // Play practice audio for users */\n\n  let playingAudio = false;\n\n  async function togglePractice() {\n    document.getElementById('play-pause').innerHTML = playingAudio ? 'Play practice audio' : 'Pause practice audio';\n    var selection = document.getElementById('practice-audio');\n    var recipient = document.getElementById('audio-target');\n    var track = selection.value;\n    var name = recipient.value;\n    var command = !playingAudio ? 'play' : 'pause';\n    var instructions = {\n      type: 'instructions',\n      recipients: name,\n      target: track,\n      action: command\n    };\n    callObject.sendAppMessage(instructions, '*');\n    playingAudio = !playingAudio ? true : false;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"controlbar\",\n    class: \"control-bar\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flexGrow: '.5',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"cam-image\",\n    src: \"../../images/camera-off.svg\",\n    style: {\n      position: 'relative',\n      height: '40px',\n      width: '45px',\n      cursor: 'pointer',\n      bottom: '-30px;'\n    },\n    alt: \"Camera toggle\",\n    onclick: \"toggleCam()\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"cam-instructions\",\n    style: {\n      display: 'block',\n      marginBottom: '10px;'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, \"Turn on\"))));\n}","map":{"version":3,"sources":["/Users/arlosb/Documents/GitHub/new react app/my-app/src/components/AdminPanel/AdminPanel.js"],"names":["React","useContext","useEffect","useState","CallObjectContext","NameContext","logDailyEvent","Fragment","getStreamStates","callObject","isCameraMuted","isMicMuted","isSharingScreen","participants","local","localParticipant","video","audio","screen","AdminPanel","props","myName","setCameraMuted","setMicMuted","setSharingScreen","displayChat","setChatDisplay","highlightedChat","setChatHighlight","toggleCamera","setLocalVideo","toggleMic","setLocalAudio","toggleSharingScreen","stopScreenShare","startScreenShare","leaveCall","onClickLeaveCall","toggleChat","handleNewChat","handleNewParticipantsState","event","on","cleanup","off","playingAudio","togglePractice","document","getElementById","innerHTML","selection","recipient","track","value","name","command","instructions","type","recipients","target","action","sendAppMessage","width","flexGrow","textAlign","position","height","cursor","bottom","display","marginBottom"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport CallObjectContext from '../../CallObjectContext';\nimport NameContext from '../../NameContext';\nimport { logDailyEvent } from '../../logUtils';\nimport {Fragment} from 'react';\n\n\n/**\n * Gets [isCameraMuted, isMicMuted, isSharingScreen].\n * This function is declared outside Tray() so it's not recreated every render\n * (which would require us to declare it as a useEffect dependency).\n */\nfunction getStreamStates(callObject) {\n  let isCameraMuted,\n    isMicMuted,\n    isSharingScreen = false;\n  if (\n    callObject &&\n    callObject.participants() &&\n    callObject.participants().local\n  ) {\n    const localParticipant = callObject.participants().local;\n    isCameraMuted = !localParticipant.video;\n    isMicMuted = !localParticipant.audio;\n    isSharingScreen = localParticipant.screen;\n  }\n  return [isCameraMuted, isMicMuted, isSharingScreen];\n}\n\n/**\n * Props:\n * - onClickLeaveCall: () => ()\n * - disabled: boolean\n */\nexport default function AdminPanel(props) {\n  const callObject = useContext(CallObjectContext);\n  const myName = useContext(NameContext);\n  const [isCameraMuted, setCameraMuted] = useState(false);\n  const [isMicMuted, setMicMuted] = useState(false);\n  const [isSharingScreen, setSharingScreen] = useState(false);\n  const [displayChat, setChatDisplay] = useState(false);\n  const [highlightedChat, setChatHighlight] = useState(false);\n\n  function toggleCamera() {\n    callObject.setLocalVideo(isCameraMuted);\n  }\n\n  function toggleMic() {\n    callObject.setLocalAudio(isMicMuted);\n  }\n\n  function toggleSharingScreen() {\n    isSharingScreen\n      ? callObject.stopScreenShare()\n      : callObject.startScreenShare();\n  }\n\n  function leaveCall() {\n    props.onClickLeaveCall && props.onClickLeaveCall();\n  }\n\n  function toggleChat() {\n    setChatDisplay(!displayChat);\n    if (highlightedChat) {\n      setChatHighlight(!highlightedChat);\n    }\n  }\n\n  function handleNewChat() {\n    setChatHighlight(!highlightedChat);\n  }\n\n  /**\n   * Start listening for participant changes when callObject is set (i.e. when the component mounts).\n   * This event will capture any changes to your audio/video mute state.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleNewParticipantsState(event) {\n      event && logDailyEvent(event);\n      const [isCameraMuted, isMicMuted, isSharingScreen] = getStreamStates(\n        callObject\n      );\n      setCameraMuted(isCameraMuted);\n      setMicMuted(isMicMuted);\n      setSharingScreen(isSharingScreen);\n    }\n\n    // Use initial state\n    handleNewParticipantsState();\n\n    // Listen for changes in state\n    callObject.on('participant-updated', handleNewParticipantsState);\n\n    // Stop listening for changes in state\n    return function cleanup() {\n      callObject.off('participant-updated', handleNewParticipantsState);\n    };\n  }, [callObject]);\n\n\n    /* // Play practice audio for users */\n  let playingAudio=false;\n\n    async function togglePractice () {\n        document.getElementById('play-pause').innerHTML = playingAudio ? 'Play practice audio' : 'Pause practice audio';\n        var selection = document.getElementById('practice-audio');\n        var recipient = document.getElementById('audio-target');\n        var track = selection.value;\n        var name = recipient.value;\n\n        var command = !playingAudio ? 'play' : 'pause';\n        var instructions = {\n          type: 'instructions',\n          recipients: name,\n          target: track,\n          action: command,\n        }\n        callObject.sendAppMessage(instructions,'*');\n        playingAudio = !playingAudio ? true : false;\n      }\n\n  return (\n\n        <div className=\"admin-panel\">\n        <div id='controlbar' class='control-bar' style={{width: '100%'}}>\n                    {/* Camera on/off */}\n                <div style={{flexGrow:'.5', textAlign: 'center'}}>\n                    <img id='cam-image' src=\"../../images/camera-off.svg\" style={{position: 'relative', height:'40px', width:'45px', cursor:'pointer', bottom:'-30px;'}} alt=\"Camera toggle\" onclick=\"toggleCam()\" />\n                    <p id='cam-instructions' style={{display:'block', marginBottom: '10px;'}}>Turn on</p>\n                </div>\n                \n\n        </div>\n        </div>  \n\n    \n  );\n  \n}\n"]},"metadata":{},"sourceType":"module"}