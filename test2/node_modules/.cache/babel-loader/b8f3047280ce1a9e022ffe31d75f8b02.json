{"ast":null,"code":"const newRoomEndpoint = `${window.location.origin}/api/rooms`;\n/**\n * Create a short-lived room for demo purposes.\n *\n * It uses the redirect proxy as specified in netlify.toml`\n * This will work locally if you following the Netlify specific instructions\n  * in README.md\n *\n * See https://docs.daily.co/reference#create-room for more information on how\n * to use the Daily REST API to create rooms and what options are available.\n */\n\nasync function createRoom() {\n  const exp = Math.round(Date.now() / 1000) + 60 * 30;\n  const options = {\n    properties: {\n      exp: exp\n    }\n  };\n  let response = await fetch(newRoomEndpoint, {\n    method: \"POST\",\n    body: JSON.stringify(options),\n    mode: 'cors'\n  });\n\n  if (response.status === 200) {\n    return await response.json();\n  } else if (response.status === 404 && process.env.REACT_APP_DAILY_DOMAIN && process.env.REACT_APP_DAILY_ROOM) {\n    return {\n      url: `https://${process.env.REACT_APP_DAILY_DOMAIN}.daily.co/${process.env.REACT_APP_DAILY_ROOM}`\n    };\n  } else {\n    throw new Error(\"Unable to create a Daily room. Check out the README.md for setup instruction!\");\n  }\n}\n\nexport default {\n  createRoom\n};","map":{"version":3,"sources":["/Users/arlosb/Documents/GitHub/new react app/my-app/src/api.js"],"names":["newRoomEndpoint","window","location","origin","createRoom","exp","Math","round","Date","now","options","properties","response","fetch","method","body","JSON","stringify","mode","status","json","process","env","REACT_APP_DAILY_DOMAIN","REACT_APP_DAILY_ROOM","url","Error"],"mappings":"AAAA,MAAMA,eAAe,GAClB,GAAEC,MAAM,CAACC,QAAP,CAAgBC,MAAO,YAD5B;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACC,eAAeC,UAAf,GAA4B;AAC3B,QAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAa,IAAxB,IAAgC,KAAK,EAAjD;AACA,QAAMC,OAAO,GAAG;AACdC,IAAAA,UAAU,EAAE;AACVN,MAAAA,GAAG,EAAEA;AADK;AADE,GAAhB;AAKA,MAAIO,QAAQ,GAAG,MAAMC,KAAK,CAACb,eAAD,EAAkB;AAC1Cc,IAAAA,MAAM,EAAE,MADkC;AAE1CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAFoC;AAG1CQ,IAAAA,IAAI,EAAE;AAHoC,GAAlB,CAA1B;;AAKA,MAAIN,QAAQ,CAACO,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,WAAO,MAAMP,QAAQ,CAACQ,IAAT,EAAb;AACD,GAFD,MAEO,IAAIR,QAAQ,CAACO,MAAT,KAAoB,GAApB,IACAE,OAAO,CAACC,GAAR,CAAYC,sBADZ,IAEAF,OAAO,CAACC,GAAR,CAAYE,oBAFhB,EAEsC;AAE3C,WAAO;AACLC,MAAAA,GAAG,EAAG,WAAUJ,OAAO,CAACC,GAAR,CAAYC,sBAAuB,aAAYF,OAAO,CAACC,GAAR,CAAYE,oBAAqB;AAD3F,KAAP;AAGD,GAPM,MAOA;AACL,UAAM,IAAIE,KAAJ,CAAU,+EAAV,CAAN;AACD;AACF;;AAED,eAAe;AAAEtB,EAAAA;AAAF,CAAf","sourcesContent":["const newRoomEndpoint =\n  `${window.location.origin}/api/rooms`;\n\n/**\n * Create a short-lived room for demo purposes.\n *\n * It uses the redirect proxy as specified in netlify.toml`\n * This will work locally if you following the Netlify specific instructions\n  * in README.md\n *\n * See https://docs.daily.co/reference#create-room for more information on how\n * to use the Daily REST API to create rooms and what options are available.\n */\n async function createRoom() {\n  const exp = Math.round(Date.now() / 1000) + 60 * 30;\n  const options = {\n    properties: {\n      exp: exp,\n    },\n  };\n  let response = await fetch(newRoomEndpoint, {\n    method: \"POST\",\n    body: JSON.stringify(options),\n    mode: 'cors',\n  })\n  if (response.status === 200) {\n    return await response.json();\n  } else if (response.status === 404 &&\n             process.env.REACT_APP_DAILY_DOMAIN &&\n             process.env.REACT_APP_DAILY_ROOM) {\n\n    return {\n      url: `https://${process.env.REACT_APP_DAILY_DOMAIN}.daily.co/${process.env.REACT_APP_DAILY_ROOM}`\n    }\n  } else {\n    throw new Error(\"Unable to create a Daily room. Check out the README.md for setup instruction!\")\n  }\n}\n\nexport default { createRoom };"]},"metadata":{},"sourceType":"module"}