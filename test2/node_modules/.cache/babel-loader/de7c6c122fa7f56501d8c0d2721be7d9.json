{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arlosb/Documents/GitHub/new react app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/arlosb/Documents/GitHub/new react app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var newRoomEndpoint=\"\".concat(window.location.origin,\"/api/rooms\");/**\n * Create a short-lived room for demo purposes.\n *\n * It uses the redirect proxy as specified in netlify.toml`\n * This will work locally if you following the Netlify specific instructions\n * in README.md\n *\n * See https://docs.daily.co/reference#create-room for more information on how\n * to use the Daily REST API to create rooms and what options are available.\n */function createRoom(){return _createRoom.apply(this,arguments);}function _createRoom(){_createRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var exp,options,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:exp=Math.round(Date.now()/1000)+60*30;options={properties:{exp:exp}};_context.next=4;return fetch(newRoomEndpoint,{method:\"POST\",body:JSON.stringify(options),mode:'cors'});case 4:response=_context.sent;if(!(response.status===200)){_context.next=11;break;}_context.next=8;return response.json();case 8:return _context.abrupt(\"return\",_context.sent);case 11:if(!(response.status===404&&process.env.REACT_APP_DAILY_DOMAIN&&process.env.REACT_APP_DAILY_ROOM)){_context.next=15;break;}return _context.abrupt(\"return\",{url:\"https://\".concat(process.env.REACT_APP_DAILY_DOMAIN,\".daily.co/\").concat(process.env.REACT_APP_DAILY_ROOM)});case 15:throw new Error(\"Unable to create a Daily room. Check out the README.md for setup instruction!\");case 16:case\"end\":return _context.stop();}}},_callee);}));return _createRoom.apply(this,arguments);}export default{createRoom:createRoom};","map":{"version":3,"sources":["/Users/arlosb/Documents/GitHub/new react app/my-app/src/api.js"],"names":["newRoomEndpoint","window","location","origin","createRoom","exp","Math","round","Date","now","options","properties","fetch","method","body","JSON","stringify","mode","response","status","json","process","env","REACT_APP_DAILY_DOMAIN","REACT_APP_DAILY_ROOM","url","Error"],"mappings":"iVAAA,GAAMA,CAAAA,eAAe,WAChBC,MAAM,CAACC,QAAP,CAAgBC,MADA,cAArB,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G,QACeC,CAAAA,U,wIAAf,4JACQC,GADR,CACcC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,GAAa,IAAxB,EAAgC,GAAK,EADnD,CAEQC,OAFR,CAEkB,CACdC,UAAU,CAAE,CACVN,GAAG,CAAEA,GADK,CADE,CAFlB,uBAOuBO,CAAAA,KAAK,CAACZ,eAAD,CAAkB,CAC1Ca,MAAM,CAAE,MADkC,CAE1CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf,CAFoC,CAG1CO,IAAI,CAAE,MAHoC,CAAlB,CAP5B,QAOMC,QAPN,oBAYMA,QAAQ,CAACC,MAAT,GAAoB,GAZ1B,iDAaiBD,CAAAA,QAAQ,CAACE,IAAT,EAbjB,oEAcaF,QAAQ,CAACC,MAAT,GAAoB,GAApB,EACAE,OAAO,CAACC,GAAR,CAAYC,sBADZ,EAEAF,OAAO,CAACC,GAAR,CAAYE,oBAhBzB,2DAkBW,CACLC,GAAG,mBAAaJ,OAAO,CAACC,GAAR,CAAYC,sBAAzB,sBAA4DF,OAAO,CAACC,GAAR,CAAYE,oBAAxE,CADE,CAlBX,eAsBU,IAAIE,CAAAA,KAAJ,CAAU,+EAAV,CAtBV,wD,6CA0BA,cAAe,CAAEtB,UAAU,CAAVA,UAAF,CAAf","sourcesContent":["const newRoomEndpoint =\n  `${window.location.origin}/api/rooms`;\n\n/**\n * Create a short-lived room for demo purposes.\n *\n * It uses the redirect proxy as specified in netlify.toml`\n * This will work locally if you following the Netlify specific instructions\n * in README.md\n *\n * See https://docs.daily.co/reference#create-room for more information on how\n * to use the Daily REST API to create rooms and what options are available.\n */\nasync function createRoom() {\n  const exp = Math.round(Date.now() / 1000) + 60 * 30;\n  const options = {\n    properties: {\n      exp: exp,\n    },\n  };\n  let response = await fetch(newRoomEndpoint, {\n    method: \"POST\",\n    body: JSON.stringify(options),\n    mode: 'cors',\n  })\n  if (response.status === 200) {\n    return await response.json();\n  } else if (response.status === 404 &&\n             process.env.REACT_APP_DAILY_DOMAIN &&\n             process.env.REACT_APP_DAILY_ROOM) {\n\n    return {\n      url: `https://${process.env.REACT_APP_DAILY_DOMAIN}.daily.co/${process.env.REACT_APP_DAILY_ROOM}`\n    }\n  } else {\n    throw new Error(\"Unable to create a Daily room. Check out the README.md for setup instruction!\")\n  }\n}\n\nexport default { createRoom };"]},"metadata":{},"sourceType":"module"}