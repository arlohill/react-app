{"ast":null,"code":"var _jsxFileName = \"/Users/arlosb/Documents/GitHub/new react app/test1/src/components/AdminPanel/AdminPanel.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport CallObjectContext from '../../CallObjectContext';\nimport NameContext from '../../NameContext';\nimport { logDailyEvent } from '../../logUtils';\nimport './AdminPanel.css';\nimport setSubscriptions from '../../hooks/setSubscriptions';\nimport audioPlayer from '../../hooks/AudioPlayer'; // import { sendState } from '../AdminPanel/AdminFunctions'\n// import SessionContext from '../../SessionContext';\n\nfunction useForceUpdate() {\n  const [value, setValue] = useState(0); // integer state\n\n  return () => setValue(value => value + 1); // update the state to force render\n}\n/**\n * Gets [isCameraMuted, isMicMuted, isSharingScreen].\n * This function is declared outside Tray() so it's not recreated every render\n * (which would require us to declare it as a useEffect dependency).\n */\n\n\nfunction getStreamStates(callObject) {\n  let isCameraMuted,\n      isMicMuted,\n      isSharingScreen = false;\n\n  if (callObject && callObject.participants() && callObject.participants().local) {\n    const localParticipant = callObject.participants().local;\n    isCameraMuted = !localParticipant.video;\n    isMicMuted = !localParticipant.audio;\n    isSharingScreen = localParticipant.screen;\n  }\n\n  return [isCameraMuted, isMicMuted, isSharingScreen];\n}\n/**\n * Props:\n * - onClickLeaveCall: () => ()\n * - disabled: boolean\n */\n\n\nexport default function AdminPanel(props) {\n  const callObject = useContext(CallObjectContext); // const [sessionState, setSessionState ] = useContext(SessionContext);\n\n  const myName = useContext(NameContext);\n  const [isCameraMuted, setCameraMuted] = useState(false);\n  const [isMicMuted, setMicMuted] = useState(false);\n  const [isSharingScreen, setSharingScreen] = useState(false);\n  const [displayChat, setChatDisplay] = useState(false);\n  const [highlightedChat, setChatHighlight] = useState(false);\n\n  const setSubs = () => {\n    setSubscriptions(callObject);\n  };\n\n  const forceUpdate = useForceUpdate();\n  const [playButtonText, setPlayButtonText] = useState('Play practice audio');\n  const [targetRecording, setTargetRecording] = useState('monologue1'); ///////HAVE TO CHANGE THIS IN TWO PLACES\n\n  useEffect(() => {\n    //listen for participants leaving or joining and update component\n    if (!callObject) return;\n    const events = ['participant-joined', 'participant-left', 'joined-meeting'];\n\n    for (const event of events) {\n      callObject.on(event, () => setTimeout(() => forceUpdate(), 100));\n    }\n\n    return function cleanup() {\n      for (const event of events) {\n        callObject.off(event, () => setTimeout(() => forceUpdate(), 100));\n      }\n    };\n  }, [callObject]);\n\n  const sendState = () => {\n    console.log(\"Sending current state...\");\n    callObject.sendAppMessage(window.sessionState, '*');\n  };\n\n  useEffect(() => {\n    window.sendState = sendState;\n  }, [sendState]);\n\n  function toggleSessionActive() {\n    window.sessionState.isActive = !window.sessionState.isActive;\n    sendState();\n    setSubs();\n  }\n\n  function togglePractice() {\n    let recipientA = window.sessionState.roleOf.Actor1 && window[window.sessionState.roleOf.Actor1 + '_SessionID'];\n    let recipientB = window.sessionState.roleOf.Actor2 && window[window.sessionState.roleOf.Actor2 + '_SessionID'];\n    window.recipientA = recipientA;\n\n    if (window.sessionState.roleOf.Actor1 == window.myName) {\n      recipientA = 'me';\n    }\n\n    if (window.sessionState.roleOf.Actor2 == window.myName) {\n      recipientB = 'me';\n    }\n\n    if (!recipientA && !recipientB) {\n      return;\n    }\n\n    const action = window.audioIsPlaying ? 'pause' : 'play';\n    const instructionsA = {\n      type: 'instructions',\n      target: targetRecording,\n      action: action\n    };\n    const instructionsB = {\n      type: 'instructions',\n      target: targetRecording + 'B',\n      action: action\n    };\n    recipientA && recipientA != 'me' && callObject.sendAppMessage(instructionsA, recipientA);\n    window.sessionState.roleOf.Actor1 && console.log(`Sent ${action} request to ${window.sessionState.roleOf.Actor1}`);\n    recipientB && recipientB != 'me' && callObject.sendAppMessage(instructionsB, recipientB);\n    window.sessionState.roleOf.Actor2 && console.log(`Sent ${action} requestto ${window.sessionState.roleOf.Actor2}`);\n    recipientA == 'me' && audioPlayer(targetRecording, action);\n    recipientB == 'me' && audioPlayer(targetRecording + 'B', action);\n    window.audioIsPlaying = !window.audioIsPlaying;\n    setPlayButtonText(!window.audioIsPlaying ? 'Play practice audio' : 'Pause practice audio');\n\n    if (window.myRole == 'Actor1') {} else if (window.myRole == 'Actor2') {}\n  }\n\n  let handleRoleChange = e => {\n    window.sessionState.roleOf[e.target.id] = e.target.value;\n    console.log(e.target.id + ' is now: ' + window.sessionState.roleOf[e.target.id]);\n    sendState();\n    let myNewRole = 'Attendee'; //default, if no role assigned\n\n    for (const key in window.sessionState.roleOf) {\n      if (window.sessionState.roleOf[key] == window.myName) {\n        myNewRole = key;\n      }\n    }\n\n    if (myNewRole != window.myRole) {\n      window.myRole = myNewRole;\n\n      if (window.myRole.includes('1')) {\n        window.myNumber = 1;\n      } else if (window.myRole.includes('2')) {\n        window.myNumber = 2;\n      }\n    }\n\n    if (window.sessionState.isActive) {// activateSession();  //rebuild UI for the newly assigned role, mid-session\n    }\n\n    setSubs();\n  };\n  /**\n   * Start listening for participant changes when callObject is set (i.e. when the component mounts).\n   * This event will capture any changes to your audio/video mute state.\n   */\n\n\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleNewParticipantsState(event) {\n      event && logDailyEvent(event);\n      const [isCameraMuted, isMicMuted, isSharingScreen] = getStreamStates(callObject);\n      setCameraMuted(isCameraMuted);\n      setMicMuted(isMicMuted);\n      setSharingScreen(isSharingScreen);\n    } // Use initial state\n\n\n    handleNewParticipantsState(); // Listen for changes in state\n\n    callObject.on('participant-updated', handleNewParticipantsState); // Stop listening for changes in state\n\n    return function cleanup() {\n      callObject.off('participant-updated', handleNewParticipantsState);\n    };\n  }, [callObject]);\n  /* // Play practice audio for users */\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-panel\",\n    style: {\n      position: 'relative',\n      margin: 'auto',\n      width: '100%',\n      height: '80px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      left: '50px',\n      textAlign: 'center',\n      flexDirection: 'column',\n      justifyContent: 'flex-end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      bottom: '0px',\n      color: 'green',\n      fontSize: '16px',\n      fontFamily: 'Verdana, Geneva, Tahoma, sans-serif'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: togglePractice,\n    id: \"play-pause\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 21\n    }\n  }, playButtonText)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '25px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      border: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"audio-target\",\n    style: {\n      outline: 'none',\n      borderRadius: '20px',\n      height: '20px',\n      width: '120px',\n      cursor: 'pointer',\n      backgroundColor: 'green',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"both\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 33\n    }\n  }, \"Both Actors\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      border: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"practice-audio\",\n    onChange: e => {\n      setTargetRecording(e.target.value);\n      console.log('***CHANGED TO ' + e.target.value);\n    },\n    style: {\n      outline: 'none',\n      borderRadius: '20px',\n      height: '20px',\n      width: '120px',\n      cursor: 'pointer',\n      backgroundColor: 'green',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"monologue1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, \"Sublet\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"monologue2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, \"Zombie Dream\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"monologue3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 25\n    }\n  }, \"Audio Engineer\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"dialogue1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 25\n    }\n  }, \"S + M full (dialogue)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"dialogue2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 25\n    }\n  }, \"Multipost discovery (dialogue)\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"dialogue3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 25\n    }\n  }, \"Multipost competitors (dialogue)\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"role-assignments\",\n    class: \"role-assignments\",\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName-and-Dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 25\n    }\n  }, \"Person A:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"selector\",\n    id: \"Participant1\",\n    onChange: handleRoleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 33\n    }\n  }), window.userList && window.userList.length > 0 && window.userList.map(user => /*#__PURE__*/React.createElement(\"option\", {\n    value: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 111\n    }\n  }, user))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName-and-Dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 27\n    }\n  }, \"Played by:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"selector\",\n    id: \"Actor1\",\n    onChange: handleRoleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 27\n    }\n  }), window.userList && window.userList.length > 0 && window.userList.map(user => /*#__PURE__*/React.createElement(\"option\", {\n    value: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 105\n    }\n  }, user)))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName-and-Dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 21\n    }\n  }, \"Person B:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"selector\",\n    id: \"Participant2\",\n    onChange: handleRoleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 27\n    }\n  }), window.userList && window.userList.length > 0 && window.userList.map(user => /*#__PURE__*/React.createElement(\"option\", {\n    value: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 105\n    }\n  }, user))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName-and-Dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoleName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 23\n    }\n  }, \"Played by:\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"selector\",\n    id: \"Actor2\",\n    onChange: handleRoleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 17\n    }\n  }), window.userList && window.userList.length > 0 && window.userList.map(user => /*#__PURE__*/React.createElement(\"option\", {\n    value: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 99\n    }\n  }, user))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '100px',\n      position: 'absolute',\n      right: '70px',\n      bottom: '0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    class: \"switch\",\n    style: {\n      position: 'relative',\n      left: '30px',\n      height: '30px',\n      width: '60px',\n      bottom: '-13px',\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"state\",\n    onChange: toggleSessionActive,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"slider round\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      position: 'relative',\n      left: '30px',\n      bottom: '0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 21\n    }\n  }, \"Session active\")));\n}","map":{"version":3,"sources":["/Users/arlosb/Documents/GitHub/new react app/test1/src/components/AdminPanel/AdminPanel.js"],"names":["React","useContext","useEffect","useState","CallObjectContext","NameContext","logDailyEvent","setSubscriptions","audioPlayer","useForceUpdate","value","setValue","getStreamStates","callObject","isCameraMuted","isMicMuted","isSharingScreen","participants","local","localParticipant","video","audio","screen","AdminPanel","props","myName","setCameraMuted","setMicMuted","setSharingScreen","displayChat","setChatDisplay","highlightedChat","setChatHighlight","setSubs","forceUpdate","playButtonText","setPlayButtonText","targetRecording","setTargetRecording","events","event","on","setTimeout","cleanup","off","sendState","console","log","sendAppMessage","window","sessionState","toggleSessionActive","isActive","togglePractice","recipientA","roleOf","Actor1","recipientB","Actor2","action","audioIsPlaying","instructionsA","type","target","instructionsB","myRole","handleRoleChange","e","id","myNewRole","key","includes","myNumber","handleNewParticipantsState","position","margin","width","height","left","textAlign","flexDirection","justifyContent","bottom","color","fontSize","fontFamily","border","outline","borderRadius","cursor","backgroundColor","userList","length","map","user","right"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport CallObjectContext from '../../CallObjectContext';\nimport NameContext from '../../NameContext';\nimport { logDailyEvent } from '../../logUtils';\nimport './AdminPanel.css';\nimport setSubscriptions from '../../hooks/setSubscriptions';\nimport audioPlayer from '../../hooks/AudioPlayer';\n\n// import { sendState } from '../AdminPanel/AdminFunctions'\n// import SessionContext from '../../SessionContext';\n\n\n\nfunction useForceUpdate(){\n  const [value, setValue] = useState(0); // integer state\n  return () => setValue(value => value + 1); // update the state to force render\n}\n\n\n\n/**\n * Gets [isCameraMuted, isMicMuted, isSharingScreen].\n * This function is declared outside Tray() so it's not recreated every render\n * (which would require us to declare it as a useEffect dependency).\n */\nfunction getStreamStates(callObject) {\n  let isCameraMuted,\n    isMicMuted,\n    isSharingScreen = false;\n  if (\n    callObject &&\n    callObject.participants() &&\n    callObject.participants().local\n  ) {\n    const localParticipant = callObject.participants().local;\n    isCameraMuted = !localParticipant.video;\n    isMicMuted = !localParticipant.audio;\n    isSharingScreen = localParticipant.screen;\n  }\n  return [isCameraMuted, isMicMuted, isSharingScreen];\n}\n\n\n\n/**\n * Props:\n * - onClickLeaveCall: () => ()\n * - disabled: boolean\n */\nexport default function AdminPanel(props) {\n  const callObject = useContext(CallObjectContext);\n  // const [sessionState, setSessionState ] = useContext(SessionContext);\n  const myName = useContext(NameContext);\n  const [isCameraMuted, setCameraMuted] = useState(false);\n  const [isMicMuted, setMicMuted] = useState(false);\n  const [isSharingScreen, setSharingScreen] = useState(false);\n  const [displayChat, setChatDisplay] = useState(false);\n  const [highlightedChat, setChatHighlight] = useState(false);\n  const setSubs = () => {setSubscriptions(callObject)};  \n  const forceUpdate = useForceUpdate();\n  const [playButtonText, setPlayButtonText] = useState('Play practice audio');\n  const [targetRecording, setTargetRecording] = useState('monologue1') ///////HAVE TO CHANGE THIS IN TWO PLACES\n\n  useEffect(() => {           //listen for participants leaving or joining and update component\n    if (!callObject) return;\n\n    const events = [\n      'participant-joined',\n      'participant-left',\n      'joined-meeting',\n    ];\n\n    for (const event of events) {\n      callObject.on(event, () => setTimeout(()=>forceUpdate(),100));\n    }\n\n    return function cleanup() {\n      for (const event of events) {\n        callObject.off(event, () => setTimeout(()=>forceUpdate(),100));\n      }\n    };\n\n  }, [callObject]);\n\n\n\nconst sendState = () => {\n    console.log (\"Sending current state...\");\n    callObject.sendAppMessage(window.sessionState, '*'); \n}\n\n  useEffect(()=> {\n    window.sendState = sendState;\n  },[sendState]);\n\n\n  function toggleSessionActive() {\n    window.sessionState.isActive = !window.sessionState.isActive;\n    sendState();\n    setSubs();\n  }\n\n  function togglePractice() {\n    let recipientA = window.sessionState.roleOf.Actor1 && window[window.sessionState.roleOf.Actor1 + '_SessionID'];\n    let recipientB = window.sessionState.roleOf.Actor2 && window[window.sessionState.roleOf.Actor2 + '_SessionID'];\n    window.recipientA=recipientA;\n    if(window.sessionState.roleOf.Actor1==window.myName) {recipientA='me'}\n    if(window.sessionState.roleOf.Actor2==window.myName) {recipientB='me'}\n    if (!recipientA && !recipientB) {return}\n    const action = window.audioIsPlaying ? 'pause' : 'play';\n    const instructionsA = {\n      type: 'instructions',\n      target: targetRecording,\n      action: action,\n    }\n    const instructionsB = {\n      type: 'instructions',\n      target: targetRecording + 'B',\n      action: action,\n    }\n    recipientA && recipientA!='me' && callObject.sendAppMessage(instructionsA,recipientA);\n    window.sessionState.roleOf.Actor1 && console.log(`Sent ${action} request to ${window.sessionState.roleOf.Actor1}`)\n    recipientB && recipientB!='me' && callObject.sendAppMessage(instructionsB,recipientB);\n    window.sessionState.roleOf.Actor2 && console.log(`Sent ${action} requestto ${window.sessionState.roleOf.Actor2}`)\n    recipientA=='me' && audioPlayer(targetRecording,action);\n    recipientB=='me' && audioPlayer(targetRecording+'B',action);\n    window.audioIsPlaying=(!window.audioIsPlaying);\n    setPlayButtonText(!window.audioIsPlaying ? 'Play practice audio' : 'Pause practice audio');\n\n\n    if (window.myRole=='Actor1') {\n\n    }\n    else if (window.myRole=='Actor2') {\n      \n    }\n  }\n\n\n\n\n  let handleRoleChange = (e) => {\n    window.sessionState.roleOf[e.target.id]=e.target.value;\n    console.log (e.target.id + ' is now: ' + window.sessionState.roleOf[e.target.id]);\n    sendState();\n\n    let myNewRole = 'Attendee'; //default, if no role assigned\n    for (const key in window.sessionState.roleOf) {\n        if(window.sessionState.roleOf[key]==window.myName) {\n            myNewRole = key;\n        }\n    }\n    if (myNewRole!=window.myRole) {\n        window.myRole = myNewRole;\n          if (window.myRole.includes('1')) {\n              window.myNumber=1;\n          } else if (window.myRole.includes('2')) {\n              window.myNumber=2;\n          }\n      }\n        if(window.sessionState.isActive){\n            // activateSession();  //rebuild UI for the newly assigned role, mid-session\n        } \n        setSubs();\n  }\n\n                  \n         \n\n\n  /**\n   * Start listening for participant changes when callObject is set (i.e. when the component mounts).\n   * This event will capture any changes to your audio/video mute state.\n   */\n  useEffect(() => {\n    if (!callObject) return;\n\n    function handleNewParticipantsState(event) {\n      event && logDailyEvent(event);\n      const [isCameraMuted, isMicMuted, isSharingScreen] = getStreamStates(\n        callObject\n      );\n      setCameraMuted(isCameraMuted);\n      setMicMuted(isMicMuted);\n      setSharingScreen(isSharingScreen);\n    }\n\n    // Use initial state\n    handleNewParticipantsState();\n\n    // Listen for changes in state\n    callObject.on('participant-updated', handleNewParticipantsState);\n\n    // Stop listening for changes in state\n    return function cleanup() {\n      callObject.off('participant-updated', handleNewParticipantsState);\n    };\n  }, [callObject]);\n\n\n    /* // Play practice audio for users */\n\n    \n\n  return (\n\n        <div className=\"admin-panel\" style={{position:'relative',margin:'auto',width:'100%',height:'80px'}}>\n                 \n\n              \n                \n\n\n                \n\n                {/* <!-- Play recordings for users to practice Seconding --> */}\n          <div style={{position:'absolute',left:'50px',textAlign: 'center', flexDirection: 'column', justifyContent: 'flex-end'}}>\n                \n                    <span style={{bottom: '0px', color: 'green', fontSize: '16px', fontFamily:'Verdana, Geneva, Tahoma, sans-serif'}}>\n                    <button onClick={togglePractice} id='play-pause'>{playButtonText}</button>\n                    </span>\n\n                    <div style={{height:'25px'}}>\n                            <form action = ''>\n                            <fieldset style={{border:'none'}}>\n                            <select id = 'audio-target'\n                            style={{outline:'none', borderRadius: '20px', height:'20px', width:'120px', cursor:'pointer', backgroundColor:'green', color:'white'}}>\n                                <option value = 'both'>Both Actors</option>\n                            </select>\n                            </fieldset>\n                            </form>\n                    </div>\n                    \n                    {/* Recordings for Seconding */}\n                    <div style={{height:'30px'}}>\n                    <form action = ''>\n                        <fieldset style={{border:'none'}}>\n                        <select id = 'practice-audio' onChange={(e) => {setTargetRecording (e.target.value); console.log('***CHANGED TO ' + e.target.value)}}\n                        style={{outline:'none', borderRadius: '20px', height:'20px', width:'120px',  cursor:'pointer', backgroundColor:'green', color:'white'}}>\n                        <option value = 'monologue1'>Sublet</option>    \n                        {/* ///IF DEFAULT VALUE CHANGES ABOVE, ALSO HAVE TO CHANGE IT IN setTargetRecording HOOK */}\n                        <option value = 'monologue2'>Zombie Dream</option>\n                        <option value = 'monologue3'>Audio Engineer</option>\n                        <option value = 'dialogue1'>S + M full (dialogue)</option>\n                        <option value = 'dialogue2'>Multipost discovery (dialogue)</option>\n                        <option value = 'dialogue3'>Multipost competitors (dialogue)</option>\n                    </select>\n                    </fieldset>\n                    </form>\n                </div> \n        </div>\n\n        {/* END PRACTICE AUDIO */}\n\n       \n\n\n            \n               \n\n\n                    {/* <!-- start / stop recording --> */}\n                {/* <div style={{flexGrow:'1', textAlign: 'center'}}>\n                <label class=\"switch\" style={{position:'relative', height:'30px', width:'60px', cursor:'pointer', bottom:'-30px'}}>\n                    <input type=\"checkbox\" id='recording' />\n                    <span class=\"slider round red\"></span>\n                </label>\n                <p style={{position:'relative', bottom: '-15px'}}>Recording</p>\n            </div> */}\n\n            {/* <!-- Assign who will be the participants + actors --> */}\n    <div id='role-assignments' class='role-assignments' style={{}}>\n\n          {/* (<span style={{color:'red'}}>Person A:</span> + <span style={{color:'grey'}}>played by:</span>) */}\n\n          <div className='column'>\n\n              <div className='RoleName-and-Dropdown'>\n                      <div className='RoleName'>\n                        <p>\n                          Person A:\n                        </p>\n                      </div>\n\n                      <div className='dropdown'>\n                          <p>\n                            <form>\n                              <select className='selector' id=\"Participant1\" onChange={handleRoleChange}>\n                                <option value={null}></option>\n                                {window.userList && window.userList.length>0 && window.userList.map((user) => <option value={user}>{user}</option>)}\n                              </select>\n                              </form>\n                            </p>\n                      </div>\n              </div>\n\n              <div className='RoleName-and-Dropdown'>\n                        <div className='RoleName'>\n                          <p>\n                            Played by:\n                          </p>\n                        </div>\n\n                        <div className='dropdown'>\n                      <p>\n                      <form>\n                      <select className='selector' id=\"Actor1\" onChange={handleRoleChange}>\n                          <option value={null}></option>\n                          {window.userList && window.userList.length>0 && window.userList.map((user) => <option value={user}>{user}</option>)}\n                          </select>\n                        </form>\n                      </p>\n                  </div>\n              </div>\n      </div>\n\n      <div className='column'>\n\n          <div className='RoleName-and-Dropdown'>\n                  <div className='RoleName'>\n                    <p>\n                      Person B:\n                    </p>\n                  </div>\n\n                  <div className='dropdown'>\n                      <p>\n                        <form>\n                        <select className='selector' id=\"Participant2\" onChange={handleRoleChange}>\n                          <option value={null}></option>\n                          {window.userList && window.userList.length>0 && window.userList.map((user) => <option value={user}>{user}</option>)}\n                          </select>\n                          </form>\n                        </p>\n                  </div>\n          </div>\n\n          <div className='RoleName-and-Dropdown'>\n                    <div className='RoleName'>\n                      <p>\n                        Played by:\n                      </p>\n                    </div>\n\n                <div className='dropdown'>\n                <p>\n                <form>\n                <select className='selector' id=\"Actor2\" onChange={handleRoleChange}>                    \n                <option value={null}></option>\n                    {window.userList && window.userList.length>0 && window.userList.map((user) => <option value={user}>{user}</option>)}\n                    </select>\n                  </form>\n                </p>\n              </div>\n          </div>\n    </div>\n\n    \n\n    </div>  \n    {/* END ROLE assignments */}\n\n     {/* <!-- start / stop session --> */}\n     <div style={{textAlign: 'center',width:'100px', position:'absolute',right:'70px',bottom:'0px'}}>\n                    <label class=\"switch\" style={{position:'relative', left:'30px',height:'30px', width:'60px',bottom:'-13px', cursor:'pointer'}}>\n                        <input type=\"checkbox\" id='state' onChange={toggleSessionActive}/>\n                        <span class=\"slider round\"></span>\n                    </label>\n                    <p style={{position:'relative', left:'30px', bottom: '0px'}}>Session active</p>\n                    </div>\n\n    </div>\n        \n\n    \n  );\n  \n}\n"]},"metadata":{},"sourceType":"module"}